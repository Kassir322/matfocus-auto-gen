# –ó–∞–¥–∞—á–∞: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AI Studio Automation –ø–æ–¥ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–æ–º–ø—Ç–æ–≤

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞ Python –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ AI Studio —á–µ—Ä–µ–∑ PyAutoGUI.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –ø—Ä–æ—Ü–µ—Å—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, hotkeys –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è:** –°–ª–µ–¥—É–π –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∏–∑ —Ñ–∞–π–ª–∞ `–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è_—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏_—Å–∫—Ä–∏–ø—Ç–æ–≤_–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.md`

## –ü—Ä–æ–±–ª–µ–º–∞

–ò–∑–º–µ–Ω–∏–ª—Å—è —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏ –∏ –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã.

### –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (—É–±—Ä–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É):

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ü—Ä–æ–º–ø—Ç 1: —Ç–µ–∫—Å—Ç
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ü—Ä–æ–º–ø—Ç 2: —Ç–µ–∫—Å—Ç
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ü—Ä–æ–º–ø—Ç 3: —Ç–µ–∫—Å—Ç
```

### –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (—Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å):

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: —Ç–µ–∫—Å—Ç –¥–ª—è –ª–∏—Ü–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: —Ç–µ–∫—Å—Ç –¥–ª—è –æ–±–æ—Ä–æ—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2: —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞—Ä—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2: —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –ø–∞—Ä—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: —Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏
```

## –ö–ª—é—á–µ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

**–í–ê–ñ–ù–û:** –û–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ù–ï–°–ö–û–õ–¨–ö–û –ü–ê–† –ø—Ä–æ–º–ø—Ç–æ–≤ (–ª–∏—Ü–æ + –æ–±–æ—Ä–æ—Ç).

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1
‚îú‚îÄ‚îÄ –ü–∞—Ä–∞ 1
‚îÇ   ‚îú‚îÄ‚îÄ –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 4:3
‚îÇ   ‚îî‚îÄ‚îÄ –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 3:2
‚îú‚îÄ‚îÄ –ü–∞—Ä–∞ 2
‚îÇ   ‚îú‚îÄ‚îÄ –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 4:3
‚îÇ   ‚îî‚îÄ‚îÄ –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 3:2
‚îî‚îÄ‚îÄ –ü–∞—Ä–∞ 3
    ‚îú‚îÄ‚îÄ –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 3 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 4:3
    ‚îî‚îÄ‚îÄ –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 3 ‚Üí –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ 3:2

–ö–∞—Ä—Ç–æ—á–∫–∞ 2
‚îú‚îÄ‚îÄ –ü–∞—Ä–∞ 1
‚îÇ   ‚îú‚îÄ‚îÄ –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1
‚îÇ   ‚îî‚îÄ‚îÄ –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1
...
```

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã (–¥–µ—Ç–∞–ª—å–Ω–æ)

### –î–ª—è –æ–¥–Ω–æ–π –ø–∞—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤:

```python
# –ü—Ä–∏–º–µ—Ä: –ö–∞—Ä—Ç–æ—á–∫–∞ 1, –ü–∞—Ä–∞ 2 (–ø—Ä–æ–º–ø—Ç –Ω–æ–º–µ—Ä 2)

# –õ–ò–¶–ï–í–ê–Ø –°–¢–û–†–û–ù–ê (4:3)
1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç (ChatManager.create_new_chat_only())
2. –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–º–ø—Ç–∞ (PROMPT_INPUT)
3. –í—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç "–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2" —á–µ—Ä–µ–∑ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
4. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —á–∞—Ç ‚Üí "–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2"
5. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ FORMAT_SELECTOR (–Ω–æ–≤–∞—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞!)
6. –í–≤–µ—Å—Ç–∏ "4:3" –∏ –Ω–∞–∂–∞—Ç—å Enter
7. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞ –ø—Ä–æ–º–ø—Ç–∞
8. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (Ctrl+Enter)
9. –ñ–¥–∞—Ç—å GENERATION_WAIT —Å–µ–∫—É–Ω–¥
10. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–æ—Å—å
11. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ ‚Üí "–ö–∞—Ä—Ç–æ—á–∫–∞_1_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_2_4x3.png"

# –û–ë–û–†–û–¢–ù–ê–Ø –°–¢–û–†–û–ù–ê (3:2)
12. –°–æ–∑–¥–∞—Ç—å –ù–û–í–´–ô —á–∞—Ç
13. –ö–ª–∏–∫–Ω—É—Ç—å –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—Ä–æ–º–ø—Ç–∞
14. –í—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç "–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2"
15. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —á–∞—Ç ‚Üí "–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2"
16. –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ FORMAT_SELECTOR
17. –í–≤–µ—Å—Ç–∏ "3:2" –∏ –Ω–∞–∂–∞—Ç—å Enter
18. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞
19. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é (Ctrl+Enter)
20. –ñ–¥–∞—Ç—å
21. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ‚Üí "–ö–∞—Ä—Ç–æ—á–∫–∞_1_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_2_3x2.png"

# –°–ª–µ–¥—É—é—â–∞—è –ø–∞—Ä–∞
22. –ü–µ—Ä–µ–π—Ç–∏ –∫ –ü–∞—Ä–µ 3 (–ø—Ä–æ–º–ø—Ç –Ω–æ–º–µ—Ä 3) —ç—Ç–æ–π –∂–µ –∫–∞—Ä—Ç–æ—á–∫–∏
23. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —à–∞–≥–∏ 1-21 –¥–ª—è –ø–∞—Ä—ã 3

# –°–ª–µ–¥—É—é—â–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞
24. –ö–æ–≥–¥–∞ –≤—Å–µ –ø–∞—Ä—ã –ö–∞—Ä—Ç–æ—á–∫–∏ 1 –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã ‚Üí –ø–µ—Ä–µ–π—Ç–∏ –∫ –ö–∞—Ä—Ç–æ—á–∫–µ 2
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –ü–∞—Ä—Å–µ—Ä —Ñ–∞–π–ª–∞ (`core/file_handler.py`)

**–ù–æ–≤—ã–π regex:**

```python
pattern = r'–ö–∞—Ä—Ç–æ—á–∫–∞ (\d+) (–ª–∏—Ü–æ|–æ–±–æ—Ä–æ—Ç) - –ü—Ä–æ–º–ø—Ç (\d+): (.+)'
# –ì—Ä—É–ø–ø—ã: (–Ω–æ–º–µ—Ä_–∫–∞—Ä—Ç–æ—á–∫–∏, —Ç–∏–ø, –Ω–æ–º–µ—Ä_–ø—Ä–æ–º–ø—Ç–∞, —Ç–µ–∫—Å—Ç)
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**

```python
# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞:
{
    1: [  # –ö–∞—Ä—Ç–æ—á–∫–∞ 1
        {  # –ü–∞—Ä–∞ 1
            '–ª–∏—Ü–æ': '—Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –ª–∏—Ü–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã',
            '–æ–±–æ—Ä–æ—Ç': '—Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –æ–±–æ—Ä–æ—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã'
        },
        {  # –ü–∞—Ä–∞ 2
            '–ª–∏—Ü–æ': '—Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –ª–∏—Ü–µ–≤–æ–π',
            '–æ–±–æ—Ä–æ—Ç': '—Ç–µ–∫—Å—Ç –¥–ª—è –≤—Ç–æ—Ä–æ–π –æ–±–æ—Ä–æ—Ç–Ω–æ–π'
        },
        {  # –ü–∞—Ä–∞ 3
            '–ª–∏—Ü–æ': '...',
            '–æ–±–æ—Ä–æ—Ç': '...'
        }
    ],
    2: [  # –ö–∞—Ä—Ç–æ—á–∫–∞ 2
        {'–ª–∏—Ü–æ': '...', '–æ–±–æ—Ä–æ—Ç': '...'},
        {'–ª–∏—Ü–æ': '...', '–æ–±–æ—Ä–æ—Ç': '...'}
    ]
}
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**

- –ï—Å–ª–∏ –µ—Å—Ç—å "–ª–∏—Ü–æ" –Ω–æ –Ω–µ—Ç "–æ–±–æ—Ä–æ—Ç" –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—É, –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning
- –ï—Å–ª–∏ –µ—Å—Ç—å "–æ–±–æ—Ä–æ—Ç" –Ω–æ –Ω–µ—Ç "–ª–∏—Ü–æ" ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—É, –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å warning
- –ü–∞—Ä–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–ª–Ω–æ–π —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ—Å—Ç—å –æ–±–∞ –ø—Ä–æ–º–ø—Ç–∞

### 2. –ù–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (`core/multi_format_generator.py`)

–°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `MultiFormatGenerator` –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `ImageGenerator`.

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**

```python
class MultiFormatGenerator:
    def __init__(self, settings_manager):
        self.settings_manager = settings_manager
        self.clipboard = ClipboardManager()
        self.logger = Logger()
        self.chat_manager = ChatManager()

    def select_image_format(self, format_ratio: str) -> bool:
        """
        –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ UI.

        Args:
            format_ratio: "4:3" –∏–ª–∏ "3:2"

        Returns:
            bool: —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏

        –ê–ª–≥–æ—Ä–∏—Ç–º:
        1. –ö–ª–∏–∫ –Ω–∞ FORMAT_SELECTOR –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É
        2. –ü–∞—É–∑–∞ BETWEEN_CLICKS
        3. –í–≤–æ–¥ format_ratio —á–µ—Ä–µ–∑ pyautogui.write()
        4. –ü–∞—É–∑–∞ BETWEEN_CLICKS
        5. Enter –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        6. –ü–∞—É–∑–∞ BETWEEN_CLICKS
        """
        pass

    def generate_single_side(self, card_number: int, pair_number: int,
                            side: str, prompt: str,
                            format_ratio: str, stop_event) -> bool:
        """
        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã (–ª–∏—Ü–æ –ò–õ–ò –æ–±–æ—Ä–æ—Ç).

        Args:
            card_number: –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
            pair_number: –Ω–æ–º–µ—Ä –ø–∞—Ä—ã –ø—Ä–æ–º–ø—Ç–æ–≤
            side: "–ª–∏—Ü–æ" –∏–ª–∏ "–æ–±–æ—Ä–æ—Ç"
            prompt: —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞
            format_ratio: "4:3" –∏–ª–∏ "3:2"
            stop_event: —Å–æ–±—ã—Ç–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç True –µ—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ.

        –ê–ª–≥–æ—Ä–∏—Ç–º:
        1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —á–∞—Ç
        2. –í–≤–µ—Å—Ç–∏ –ø—Ä–æ–º–ø—Ç
        3. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —á–∞—Ç: f"–ö–∞—Ä—Ç–æ—á–∫–∞ {card_number} - {side} - –ü—Ä–æ–º–ø—Ç {pair_number}"
        4. –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç (select_image_format)
        5. –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–ª—é –≤–≤–æ–¥–∞
        6. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è (Ctrl+Enter)
        7. –û–∂–∏–¥–∞–Ω–∏–µ
        8. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        9. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: f"–ö–∞—Ä—Ç–æ—á–∫–∞_{card_number}_{side}_–ø—Ä–æ–º–ø—Ç_{pair_number}_{format_ratio.replace(':', 'x')}.png"
        """
        pass

    def generate_pair(self, card_number: int, pair_number: int,
                     prompts_dict: dict, stop_event) -> int:
        """
        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–∞—Ä—ã (–ª–∏—Ü–æ + –æ–±–æ—Ä–æ—Ç).

        Args:
            card_number: –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
            pair_number: –Ω–æ–º–µ—Ä –ø–∞—Ä—ã
            prompts_dict: {'–ª–∏—Ü–æ': '—Ç–µ–∫—Å—Ç', '–æ–±–æ—Ä–æ—Ç': '—Ç–µ–∫—Å—Ç'}
            stop_event: —Å–æ–±—ã—Ç–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

        Returns:
            int: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (0, 1 –∏–ª–∏ 2)

        –ê–ª–≥–æ—Ä–∏—Ç–º:
        1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∏—Ü–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω—ã (4:3)
        2. –ü–∞—É–∑–∞ BETWEEN_GENERATIONS
        3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–±–æ—Ä–æ—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω—ã (3:2)
        """
        pass

    def process_card(self, card_number: int, pairs_list: list,
                    stop_event) -> tuple:
        """
        –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –ø–∞—Ä –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏.

        Args:
            card_number: –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
            pairs_list: —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π —Å –ø–∞—Ä–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
            stop_event: —Å–æ–±—ã—Ç–∏–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

        Returns:
            tuple: (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø–∞—Ä, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)

        –ê–ª–≥–æ—Ä–∏—Ç–º:
        - –ü—Ä–æ—Ö–æ–¥ –ø–æ –≤—Å–µ–º –ø–∞—Ä–∞–º –≤ pairs_list
        - –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –≤—ã–∑–æ–≤ generate_pair()
        - –ü–∞—É–∑–∞ BETWEEN_CARDS –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–∞—Ä—ã
        """
        pass

    def automation_worker(self, stop_event, start_card: int,
                         check_image_enabled: bool,
                         generation_wait: float,
                         cards_to_process: int):
        """
        –ì–ª–∞–≤–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è Process).

        –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π FileHandler –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
        —Å –ø–∞—Ä–∞–º–∏ –ø—Ä–æ–º–ø—Ç–æ–≤.
        """
        pass
```

### 3. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (`config/coordinates.py`)

**–î–æ–±–∞–≤–∏—Ç—å:**

```python
'FORMAT_SELECTOR': [0, 0],  # –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

**–ü–æ–¥—Å–∫–∞–∑–∫–∞ –≤ list_coordinates():**

```python
if name == 'FORMAT_SELECTOR':
    coords_info.append(f"  {name}: {coord} - {status} [–î–õ–Ø –ú–£–õ–¨–¢–ò–§–û–†–ú–ê–¢–ù–û–ì–û –†–ï–ñ–ò–ú–ê]")
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (`config/settings.py`)

**–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä:**

```python
'GENERATION_MODE': 'multi_format',  # –í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 'standard', 'multi_format'
```

**–ù–æ–≤—ã–π –º–µ—Ç–æ–¥:**

```python
def toggle_generation_mode(self):
    """–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É standard –∏ multi_format"""
    current = self.settings['GENERATION_MODE']
    new_mode = 'multi_format' if current == 'standard' else 'standard'
    self.set('GENERATION_MODE', new_mode)

    mode_names = {
        'standard': '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (—Å—Ç–∞—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º)',
        'multi_format': '–ú—É–ª—å—Ç–∏—Ñ–æ—Ä–º–∞—Ç–Ω—ã–π (–ª–∏—Ü–æ 4:3 + –æ–±–æ—Ä–æ—Ç 3:2)'
    }
    print(f"‚úì –†–µ–∂–∏–º –∏–∑–º–µ–Ω—ë–Ω: {mode_names[new_mode]}")
```

**–û–±–Ω–æ–≤–∏—Ç—å configure_generations_per_card():**

```python
def configure_generations_per_card(self):
    if self.settings['GENERATION_MODE'] == 'multi_format':
        print("‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ –≤ –º—É–ª—å—Ç–∏—Ñ–æ—Ä–º–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ")
        print("   –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä * 2")
        return
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥
```

### 5. Process Manager (`utils/process_manager.py`)

**–û–±–Ω–æ–≤–∏—Ç—å start_automation():**

```python
def start_automation(self, settings_manager):
    generation_mode = settings_manager.get('GENERATION_MODE')

    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
    critical_coords = ['PROMPT_INPUT', 'IMAGE_LOCATION', 'NEW_CHAT_BUTTON', 'CHAT_NAME_INPUT']

    if generation_mode == 'multi_format':
        critical_coords.append('FORMAT_SELECTOR')

    # ... –ø—Ä–æ–≤–µ—Ä–∫–∏

    # –í—ã–±–æ—Ä –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
    if generation_mode == 'multi_format':
        from core.multi_format_generator import MultiFormatGenerator
        generator = MultiFormatGenerator(settings_manager)

        self.automation_process = Process(
            target=generator.automation_worker,
            args=(self.stop_event, start_card, check_image_enabled,
                  generation_wait, cards_to_process)
        )
    else:
        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º (ImageGenerator)
        from core.image_generator import ImageGenerator
        generator = ImageGenerator(settings_manager)
        # ... —Å—Ç–∞—Ä—ã–π –∫–æ–¥
```

### 6. Hotkeys (`ui/hotkeys.py`)

**–î–æ–±–∞–≤–∏—Ç—å:**

```python
keyboard.add_hotkey('ctrl+7', self.settings_manager.toggle_generation_mode)
```

### 7. Console UI (`ui/console.py`)

**–û–±–Ω–æ–≤–∏—Ç—å show_instructions():**

```python
print("  Ctrl+7 - –ü–ï–†–ï–ö–õ–Æ–ß–ò–¢–¨ –†–ï–ñ–ò–ú –ì–ï–ù–ï–†–ê–¶–ò–ò ‚≠ê")
```

**–û–±–Ω–æ–≤–∏—Ç—å show_current_settings():**

```python
generation_mode = settings_manager.get('GENERATION_MODE')
mode_names = {
    'standard': '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)',
    'multi_format': '–ú—É–ª—å—Ç–∏—Ñ–æ—Ä–º–∞—Ç–Ω—ã–π (–ª–∏—Ü–æ 4:3 + –æ–±–æ—Ä–æ—Ç 3:2)'
}

print(f"  üéØ –†–ï–ñ–ò–ú: {mode_names.get(generation_mode, generation_mode)}")

if generation_mode == 'multi_format':
    print(f"  –ü–∞—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∞–π–ª–∞")
    print(f"  –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –ø–∞—Ä—É: 2 (–ª–∏—Ü–æ + –æ–±–æ—Ä–æ—Ç)")
else:
    print(f"  –ì–µ–Ω–µ—Ä–∞—Ü–∏–π –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É: {settings_manager.get('GENERATIONS_PER_CARD')}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ FORMAT_SELECTOR –¥–ª—è multi_format
if generation_mode == 'multi_format':
    if COORDINATES.get('FORMAT_SELECTOR', (0, 0)) == (0, 0):
        print("  ‚ùå FORMAT_SELECTOR –Ω–µ –∑–∞–¥–∞–Ω! –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ —Ä–µ–∂–∏–º–∞!")
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –§–∞–π–ª —Å 2 –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –ø–æ 2 –ø–∞—Ä—ã

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: –ê—Ñ—Ä–∏–∫–∞ —Å –≤—ã—Å–æ—Ç—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: –°–∞–≤–∞–Ω–Ω–∞
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2: –ë–∞–æ–±–∞–±
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2: –õ–µ—Å
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥–∞
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: –ü–∏–Ω–≥–≤–∏–Ω—ã
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2: –õ—ë–¥
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2: –¢—é–ª–µ–Ω—å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**

- –ö–∞—Ä—Ç–æ—á–∫–∞ 1: 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (2 –ø–∞—Ä—ã √ó 2 —Å—Ç–æ—Ä–æ–Ω—ã)
- –ö–∞—Ä—Ç–æ—á–∫–∞ 2: 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (2 –ø–∞—Ä—ã √ó 2 —Å—Ç–æ—Ä–æ–Ω—ã)
- –í—Å–µ–≥–æ: 8 —á–∞—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ, 8 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–ù–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤:**

```
–ö–∞—Ä—Ç–æ—á–∫–∞_1_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_1_4x3.png
–ö–∞—Ä—Ç–æ—á–∫–∞_1_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_1_3x2.png
–ö–∞—Ä—Ç–æ—á–∫–∞_1_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_2_4x3.png
–ö–∞—Ä—Ç–æ—á–∫–∞_1_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_2_3x2.png
–ö–∞—Ä—Ç–æ—á–∫–∞_2_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_1_4x3.png
–ö–∞—Ä—Ç–æ—á–∫–∞_2_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_1_3x2.png
–ö–∞—Ä—Ç–æ—á–∫–∞_2_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_2_4x3.png
–ö–∞—Ä—Ç–æ—á–∫–∞_2_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_2_3x2.png
```

**–ù–∞–∑–≤–∞–Ω–∏—è —á–∞—Ç–æ–≤:**

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 - –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 - –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 - –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 - –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 - –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2
```

### –ü—Ä–∏–º–µ—Ä 2: –ù–µ–ø–æ–ª–Ω–∞—è –ø–∞—Ä–∞ (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: –¢–µ–∫—Å—Ç
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: –¢–µ–∫—Å—Ç
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2: –¢–µ–∫—Å—Ç
# –ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2 –û–¢–°–£–¢–°–¢–í–£–ï–¢!
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: –¢–µ–∫—Å—Ç
–ö–∞—Ä—Ç–æ—á–∫–∞ 2 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: –¢–µ–∫—Å—Ç
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

- –ö–∞—Ä—Ç–æ—á–∫–∞ 1, –ü–∞—Ä–∞ 1: ‚úì –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- –ö–∞—Ä—Ç–æ—á–∫–∞ 1, –ü–∞—Ä–∞ 2: ‚ö†Ô∏è –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å warning "–ü–∞—Ä–∞ 2 –Ω–µ–ø–æ–ª–Ω–∞—è"
- –ö–∞—Ä—Ç–æ—á–∫–∞ 2, –ü–∞—Ä–∞ 1: ‚úì –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

## –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ multi_format —Ä–µ–∂–∏–º–µ:

```python
# –í ProcessManager.start_automation()

if generation_mode == 'multi_format':
    # 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å FORMAT_SELECTOR
    if COORDINATES.get('FORMAT_SELECTOR', (0, 0)) == (0, 0):
        print("[–ì–õ–ê–í–ù–´–ô] –û–®–ò–ë–ö–ê: FORMAT_SELECTOR –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!")
        print("   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Ctrl+0 –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã")
        print("   FORMAT_SELECTOR - –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ (—Å–ø—Ä–∞–≤–∞ –æ—Ç –ø—Ä–æ–º–ø—Ç–∞)")
        return

    # 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª –ø—Ä–æ–º–ø—Ç–æ–≤
    file_handler = FileHandler(settings_manager)
    pairs_data = file_handler.load_prompts()

    if not pairs_data:
        print("[–ì–õ–ê–í–ù–´–ô] –û–®–ò–ë–ö–ê: –ù–µ—Ç –≤–∞–ª–∏–¥–Ω—ã—Ö –ø–∞—Ä –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ —Ñ–∞–π–ª–µ!")
        return

    # 3. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    total_pairs = sum(len(pairs) for pairs in pairs_data.values())
    print(f"[–ì–õ–ê–í–ù–´–ô] –ù–∞–π–¥–µ–Ω–æ –ø–∞—Ä –ø—Ä–æ–º–ø—Ç–æ–≤: {total_pairs}")
    print(f"[–ì–õ–ê–í–ù–´–ô] –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {total_pairs * 2}")
```

### –í FileHandler –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ:

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã –ø–∞—Ä
for card_num in prompts_by_card:
    pairs = prompts_by_card[card_num]
    for pair_num, pair_dict in pairs.items():
        if '–ª–∏—Ü–æ' not in pair_dict:
            logger.warning(f"–ö–∞—Ä—Ç–æ—á–∫–∞ {card_num}, –ü–∞—Ä–∞ {pair_num}: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç '–ª–∏—Ü–æ'")
        if '–æ–±–æ—Ä–æ—Ç' not in pair_dict:
            logger.warning(f"–ö–∞—Ä—Ç–æ—á–∫–∞ {card_num}, –ü–∞—Ä–∞ {pair_num}: –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç '–æ–±–æ—Ä–æ—Ç'")

        # –ü–∞—Ä–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–π –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –æ–¥–Ω–æ–π –∏–∑ —Å—Ç–æ—Ä–æ–Ω
        if '–ª–∏—Ü–æ' not in pair_dict or '–æ–±–æ—Ä–æ—Ç' not in pair_dict:
            # –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º —ç—Ç—É –ø–∞—Ä—É –≤ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            continue
```

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ä–µ–∂–∏–º `standard`:**

- –û—Å—Ç–∞–≤–∏—Ç—å `ImageGenerator` –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–π `FileHandler.load_prompts()` –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `load_prompts_old_format()`
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `GENERATION_MODE`

**–ù–µ —Ç—Ä–æ–≥–∞—Ç—å:**

- `core/image_generator.py` (—Å—Ç–∞—Ä—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä)
- `core/chat_manager.py` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ–∏–º–∏ —Ä–µ–∂–∏–º–∞–º–∏)
- `utils/clipboard.py` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ–∏–º–∏)
- `utils/logger.py` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±–æ–∏–º–∏)

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–ø–æ—ç—Ç–∞–ø–Ω–æ)

### –≠—Ç–∞–ø 1: –ü–∞—Ä—Å–µ—Ä

1. –û–±–Ω–æ–≤–∏—Ç—å `FileHandler.load_prompts()` –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–π–ª–∞
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è

### –≠—Ç–∞–ø 2: –ë–∞–∑–æ–≤—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

1. –°–æ–∑–¥–∞—Ç—å `MultiFormatGenerator` —Å –º–µ—Ç–æ–¥–æ–º `select_image_format()`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `generate_single_side()` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –æ–¥–Ω–æ–π –ø–∞—Ä—ã

### –≠—Ç–∞–ø 3: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `generate_pair()`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `process_card()`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ —Å 2 –ø–∞—Ä–∞–º–∏

### –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

1. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É FORMAT_SELECTOR
2. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (GENERATION_MODE)
3. –û–±–Ω–æ–≤–∏—Ç—å ProcessManager –¥–ª—è –≤—ã–±–æ—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
4. –î–æ–±–∞–≤–∏—Ç—å hotkey Ctrl+7

### –≠—Ç–∞–ø 5: UI –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
3. –£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –ù–ï –æ—à–∏–±–∏—Ç—å—Å—è

1. **–û–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ = –ú–ù–û–ì–û –ø–∞—Ä**, –∞ –Ω–µ –æ–¥–Ω–∞ –ø–∞—Ä–∞
2. **–ü–∞—Ä–∞ = –ª–∏—Ü–æ + –æ–±–æ—Ä–æ—Ç**, –æ–±–∞ –ø—Ä–æ–º–ø—Ç–∞ —Ä–∞–∑–Ω—ã–µ
3. **–ö–∞–∂–¥–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —á–∞—Ç–µ**
4. **–õ–∏—Ü–æ –≤—Å–µ–≥–¥–∞ 4:3, –æ–±–æ—Ä–æ—Ç –≤—Å–µ–≥–¥–∞ 3:2**
5. **–ü–æ—Ä—è–¥–æ–∫: –≤—Å–µ –ø–∞—Ä—ã –ö–∞—Ä—Ç–æ—á–∫–∏ 1, –ø–æ—Ç–æ–º –≤—Å–µ –ø–∞—Ä—ã –ö–∞—Ä—Ç–æ—á–∫–∏ 2**

## –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 1: Test front 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 1: Test back 1
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –ª–∏—Ü–æ - –ü—Ä–æ–º–ø—Ç 2: Test front 2
–ö–∞—Ä—Ç–æ—á–∫–∞ 1 –æ–±–æ—Ä–æ—Ç - –ü—Ä–æ–º–ø—Ç 2: Test back 2
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- 4 —á–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–æ
- 4 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: 2 –≤ —Ñ–æ—Ä–º–∞—Ç–µ 4:3 (–ª–∏—Ü–æ), 2 –≤ —Ñ–æ—Ä–º–∞—Ç–µ 3:2 (–æ–±–æ—Ä–æ—Ç)
- –§–∞–π–ª—ã: `–ö–∞—Ä—Ç–æ—á–∫–∞_1_–ª–∏—Ü–æ_–ø—Ä–æ–º–ø—Ç_1_4x3.png`, `–ö–∞—Ä—Ç–æ—á–∫–∞_1_–æ–±–æ—Ä–æ—Ç_–ø—Ä–æ–º–ø—Ç_1_3x2.png`, etc.

---

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å > –°–∫–æ—Ä–æ—Å—Ç—å**

–õ—É—á—à–µ –º–µ–¥–ª–µ–Ω–Ω–æ –Ω–æ –≤–µ—Ä–Ω–æ, —á–µ–º –±—ã—Å—Ç—Ä–æ –∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.
–°–ª–µ–¥—É–π –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –Ω–∞—Ä–∞—â–∏–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.
